<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <title>#{product.name}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>
    <h:body>
        <h:form>
            <p><h:commandButton id="home" value="Home" action="#{userController.home}" /></p>
        </h:form>
        <h1>#{product.name}</h1>
        <table>
            <tr>
                <td>
                    <h2>About the seller</h2>
                    <h:form>
                        <h:commandButton id="gotoseller" value="Go to seller" action="#{productController.goToSeller()}" />
                    </h:form>
                        <li>
                            <ul><b>Name: </b> #{userController.seller.username}</ul>
                            <ul><b>Rating: </b>#{userController.seller.rating}</ul>
                            <ul><b>Phone number: </b> #{userController.seller.phoneNumber}</ul>
                            <ul><b>Email: </b> #{userController.seller.email}</ul>
                        </li>
                </td>
            </tr>
            <tr>
                <td>
                    <h2>About the product</h2>
                    <table>
                        <tr>
                            <td><b>#{productController.product.name}</b></td>
                            <td>
                                <p>
                                    <b>Features:</b>
                                </p>
                                <p>
                                    #{productController.product.features}
                                </p>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <p><b>Current bid:</b> #{productController.bidAmount}</p>
        <p><b>Time remaining:</b> #{productController.product.remainingTime}</p>
        <c:choose>
        <c:when test="#{userController.seller.username ne userController.user.username}">
            <h:form>
                <p>Your bid: <h:inputText id="newbid" value="#{userController.newAmount}" /></p>
                <h:commandButton id="placebid" value="Place bid" action="#{userController.placeBid(productController.product)}" />
            </h:form>
        </c:when>
        </c:choose>
    </h:body>
</html>
